---
layout: post.njk
title: ¡Qué bonito es nginx!
date: 2024-07-07
permalink: "/blog/que-bonito-es-nginx/"
featured: "/static/posts/20240707-3_que-bonito-es-nginx/featured.webp"
tags: post
---

Desde muy pequeña tuve el interés de tener una página web, pues tengo acceso a internet desde que tenía 6 años, y uso computadoras desde que tengo memoria. Incluso era mi sueño; "_wooooow_ mi propia página web". Pero la verdad nunca supe qué meter ahí y tampoco era lo suficientemente organizada como para mantener el sitio y actualizarlo.

Tenía probablemente 11 años cuando traté de montar por primera vez mi propio servidor Apache, pero mi corta edad junto con mi nulo conocimiento de redes me hizo fracasar estrepitosamente, aunque sí recuerdo haber hecho una página HTML con un estilo muy similar a la web de los años 90. Conforme fui creciendo adquirí poco a poco los conocimientos básicos de redes; ya a los 15 años sabía qué es una dirección IP, un servidor DNS, los códigos de estatus HTTP(S), etcétera. Fue entonces cuando empecé a hacer algunos sitios web sencillos que hosteaba en [miarroba](https://hosting.miarroba.com/), pero que no eran "mi propio sitio web", sino que eran sitios web que hacía y ya, y que tenían un estilo terrible y todos mal programados.

Todo cambió radicalmente el año pasado, con la publicación de mi álbum "[Dagdrømmer](https://distrokid.com/hyperfollow/autumn64/dagdrmmer)", porque entonces sentí la necesidad de tener un sitio web que sirviera de punto de encuentro para que los demás pudieran acceder a mi contenido. Y entonces, tomando de base el diseño de la portada del álbum, me di a la tarea de hacer, por fin, mi propia página web, que hosteé inicialmente en GitHub.

Mi página web ha sido prácticamente la misma desde el año pasado; los únicos cambios "radicales" fueron que traduje el sitio al español, el hosting lo pasé de GitHub a Codeberg, y el apartado de "Anuncios" lo cambié por los últimos videos de mi PeerTube y del [Quincenal del Fediverso](https://fediverse.tv/c/clubdesoftwarelibre/videos), pero el estilo visual del sitio es prácticamente el mismo y el sitio en sí no es muy diferente a como lo era en abril de 2023.

Ya desde ese momento yo sentí que había realizado mi sueño de tener mi página web, y me sentí y me sigo sintiendo muy orgullosa de ello. En diciembre del año pasado compré el dominio `autumn64.xyz` y configuré Codeberg para que redireccionara el sitio hacia allí. Sin embargo, a partir de que me uní al Fediverso he tenido mucho interés en autohostear los servicios que utilizo, pero no me agrada la idea de dejar mi computadora encendida todo el día, además de que tendría que llamar a mi ISP para pedirles que me abran los puertos, cosa que me da demasiada pereza hacer (que quienes tienen Totalplay entenderán tal pereza). Entonces llegó algo como una bendición del cielo, y que lo cambió todo para siempre.

Desde 2021 desarrollo bots para Discord, que pueden compararse con los bots de Telegram, aunque los primeros suelen ser más interactivos y suelen tener más funciones. Los bots, al igual que cualquier servicio web, requieren que el equipo esté constantemente encendido para poder prestar servicio, por lo que ya desde entonces busqué servicios que permitieran hostear y que fueran baratos. Dado que mis bots fueron usados muy pocas veces y por muy poca gente, de manera muy intermitente contrataba y cancelaba estos servicios de hosting, en ocasiones pudiendo llegar a pagar incluso cientos de pesos en ello. Todo cambió este año, cuando comencé a desarrollar [Discoabber](https://codeberg.org/Autumn64/discoabber), porque entonces ahora tenía que hostear varios bots al mismo tiempo, y estas plataformas de hosting usualmente sólo permiten un bot por servicio, y te banean si descubren que estás hosteando más de un bot a la vez. Fue entonces cuando mi querido amigo [Francisco](http://gnlug.org/) me sugirió usar una VPS, sugerencia que me cambió la vida.

Las máquinas virtuales no eran novedad para mí; la primera vez que usé un sistema GNU/Linux fue con Debian 7 en una máquina virtual, cuando yo tenía 10 años. Incluso el concepto mismo de VPS no me era extraño, pero nunca me había pasado por la cabeza usar una porque tenía la creencia de que eran igual de caras que un servidor dedicado.

Resulta que el servicio que ya pagaba para hostear el bot, PloxHost, también tiene para VPS, y entonces por 200 pesos mexicanos cuatrimestrales tengo 1 GB de RAM y 20 GB de SSD, lo cual era más que suficiente para las cuatro instancias de bots que quería montar. Desafortunadamente esos bots, junto con Discoabber, no fueron utilizados por prácticamente nadie, por lo que ahora no hosteo ningún _bridge_, y los dos bots los daré de baja el próximo mes, por lo que iba a tener entonces a la VPS de adorno, cosa que no me agradaba mucho porque yo le veía potencial. Fue entonces cuando mi otro querido amigo [Servio](https://libretics.org/) nos mostró cómo montó en la red Tor [un sitio de bash blog](http://7hgyr6ufxvhfb3lwakcfmxo6o3d62m4so7zetntoeo57grlja4gru2qd.onion:8080) desde su teléfono, y me dijo (de forma más que acertada) que con las especificaciones de mi VPS da para montar no uno, sino varios sitios web.

A pesar de que ahora ya tengo más o menos conocimientos sobre redes (principalmente por lo que he aprendido en la universidad), mi anterior experiencia con Apache me dejó un poco traumada, por lo que quise probar algo distinto. Decidí probar con `nginx`, ya que sabía que es ligero y tiene la fama de ser muy escalable.

Lo primero que hice fue migrar mi página web de Codeberg a la VPS, y admito que el proceso de configuración del servidor nginx fue una de las mejores experiencias que he tenido en mi vida. Fácil de configurar con una sintaxis similar a JSON, basta crear un enlace simbólico para activar un sitio web, y entonces con el servidor nginx configurado y con la DNS ahora apuntando a la dirección IP de la VPS, en menos de 20 minutos ya tenía a mi sitio web funcionando de nuevo. Entonces me llenó la satisfacción de saber que ahora tenía la capacidad de autohostear lo que quisiera, gracias a esa poderosísima herramienta llamada nginx, que te hace la vida más fácil, y que casi no consume memoria RAM.

Entonces levanté una instancia de WriteFreely, con la cual me tardé un poco más porque no levantaba, y que al final hice funcionar mediante un _reverse proxy_, que es facilísimo de hacer en nginx, y migré mi primer blog a esa nueva instancia. En poco más de 30 minutos ya estaba funcionando.

También me pareció muy notable la herramienta [certbot](https://certbot.eff.org/), que de forma automática te instala ceritificados SSL y configura nginx para que escuche en el puerto 443, y así tu sitio web sea más seguro.

Por último, hice un subdominio en `autumn64.xyz`, y en ese subdominio levanté este blog, que fue igual de fácil que con mi página web porque bash blog deja páginas HTML estáticas (CORRECCIÓN 2024-07-23: Ahora uso WriteFreely como tecnología detrás de este blog) (CORRECCIÓN 2026-01-09: Ahora la tecnología es Eleventy). Y con ello pasé de tener una página web a una página web y dos blogs, y la VPS, que estuvo a punto de convertirse en un gasto innecesario, se convirtió en mi autohost para estos tres sitios. En realidad no es gran cosa, y lo sé. Pero nada me quita la felicidad de, finalmente, haber cumplido ese sueño que desde niña tuve, y no con sólo un sitio, sino con tres. Tres sitios que yo hosteo, administro y sobre los que yo tengo control. Y entonces sólo me queda decir, **¡qué bonito es nginx!**
